"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("cssom");var vue=require("vue");function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _createForOfIteratorHelper(e,t){var r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}var SimpleSVG={render:function(){return vue.h("svg")},name:"simple-svg",props:{src:{type:String,required:!0},fillClassName:{type:String,default:""},fill:{type:String,default:""},strokeClassName:{type:String,default:""},stroke:{type:String,default:""},width:{type:String,default:"auto"},height:{type:String,default:"auto"},customId:{type:String,default:""},customClassName:{type:String,default:""}},mounted:function(){this.generateInlineSVG()},watch:{src:function(e){this.generateInlineSVG()},fill:function(e){this.updateFillColor(e)},stroke:function(e){this.updateStrokeColor(e)},width:function(e){this.$el.style.width=e},height:function(e){this.$el.style.width=e}},methods:{generateInlineSVG:function(){var a=this,s=(this.resetInlineSVG(),new XMLHttpRequest);s.open("GET",this.src,!0),s.onload=function(){if(200<=s.status&&s.status<400){var e=(new DOMParser).parseFromString(s.responseText,"text/xml").getElementsByTagName("svg")[0];if(e){var t,r=_createForOfIteratorHelper(e.getAttributeNames());try{for(r.s();!(t=r.n()).done;){var n=t.value,o=e.getAttribute(n);a.$el.setAttribute(n,o)}}catch(e){r.e(e)}finally{r.f()}a.customId&&(a.$el.id=a.customId),a.customClassName&&a.$el.setAttribute("class",a.customClassName),a.$el.style.width=a.width,a.$el.style.height=a.height;for(var i=e.children.length-1;0<=i;i--){var l=e.children.item(i);a.$el.appendChild(l)}a.updateFillColor(a.fill),a.updateStrokeColor(a.stroke),a.$emit("load")}else console.error("No SVG element found in the given file: "+a.filepath)}else console.error("There was an error retrieving the source of the SVG.")},s.onerror=function(){console.error("There was on XML Http Request")},s.send()},resetInlineSVG:function(){for(;this.$el.firstChild;)this.$el.removeChild(this.$el.firstChild);var e,t=_createForOfIteratorHelper(this.$el.getAttributeNames());try{for(t.s();!(e=t.n()).done;){var r=e.value;this.$el.removeAttribute(r)}}catch(e){t.e(e)}finally{t.f()}},updateFillColor:function(e){if(this.fillClassName){var t,r=_createForOfIteratorHelper(this.$el.getElementsByClassName(this.fillClassName));try{for(r.s();!(t=r.n()).done;)t.value.style.fill=e}catch(e){r.e(e)}finally{r.f()}}},updateStrokeColor:function(e){if(this.strokeClassName){var t,r=_createForOfIteratorHelper(this.$el.getElementsByClassName(this.strokeClassName));try{for(r.s();!(t=r.n()).done;)t.value.style.stroke=e}catch(e){r.e(e)}finally{r.f()}}}}},plugin={install:function(e,t){e.component("simple-svg",SimpleSVG)}};exports.SimpleSVG=SimpleSVG,exports.default=plugin;
